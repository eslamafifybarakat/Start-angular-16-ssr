<div id="clients">
  <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
    <div class="d-flex align-items-center gap-2">
      <h4 class="mb-0 text-capitalize">{{'dashboard.customers.customers'|translate}}</h4>
      <span class="badge badge-main d-flex justify-content-center align-items-center">
        {{clientsCount}}
      </span>
    </div>
    <div class="d-flex gap-3 flex-lg-nowrap flex-wrap">
      <button class="btn btn-solid-main d-flex align-items-center gap-2" (click)="addOrEditItem()">
        <i class="pi pi-plus"></i>
        <span>{{'dashboard.customers.addCustomer'|translate}}</span>
      </button>
      <button [class.d-none]="dataStyleType=='list'" class="btn btn-solid-main d-flex align-items-center gap-2"
        (click)="filterItem()">
        <i class="pi pi-filter"></i>
      </button>
      <!-- Data style list or grid (table or card) -->
      <div class="data-style d-flex align-items-center gap-2 p-2">
        <a class="scaleX-rtl" [class.active]="dataStyleType=='list'" (click)="changeDateStyle('list')">
          <svg width="20" height="14" viewBox="0 0 25 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M4.91667 0H0V3.66667H4.91667V0ZM0 11V7.33333H4.91667V11H0ZM0 14.6667V18.3333H4.91667V14.6667H0ZM9.83333 14.6667V18.3333H24.5833V14.6667H9.83333ZM24.5833 11V7.33333H9.83333V11H24.5833ZM24.5833 0V3.66667H9.83333V0H24.5833Z"
              fill="currentColor" />
          </svg>
        </a>
        <a class="scaleX-rtl" [class.active]="dataStyleType=='grid'" (click)="changeDateStyle('grid')">
          <svg width="21" height="21" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M8.90756 2.95999C7.19724 2.77039 5.47121 2.77039 3.76089 2.95999C3.56333 2.98226 3.37896 3.07017 3.23729 3.20966C3.09563 3.34915 3.00487 3.53214 2.97956 3.72933C2.77715 5.45987 2.77715 7.20812 2.97956 8.93866C3.00521 9.13581 3.09628 9.31865 3.23819 9.4579C3.38009 9.59714 3.56462 9.68474 3.76222 9.70666C5.45689 9.896 7.21156 9.896 8.90622 9.70666C9.10382 9.68474 9.28835 9.59714 9.43026 9.4579C9.57216 9.31865 9.66323 9.13581 9.68889 8.93866C9.89156 7.208 9.89156 5.45866 9.68889 3.72799C9.66323 3.53084 9.57216 3.34801 9.43026 3.20876C9.28835 3.06951 9.10382 2.98192 8.90622 2.95999M3.53822 0.973328C5.39564 0.767354 7.27014 0.767354 9.12756 0.973328C10.4476 1.12 11.5182 2.16 11.6742 3.496C11.8947 5.38113 11.8947 7.28553 11.6742 9.17066C11.5962 9.81678 11.3023 10.4176 10.84 10.8757C10.3778 11.3339 9.77434 11.6224 9.12756 11.6947C7.28489 11.9 5.38089 11.9 3.53822 11.6947C2.89144 11.6224 2.288 11.3339 1.82576 10.8757C1.36352 10.4176 1.06956 9.81678 0.991556 9.17066C0.771044 7.28553 0.771044 5.38112 0.991556 3.496C1.06984 2.85012 1.36392 2.2496 1.82614 1.79174C2.28836 1.33387 2.89163 1.0455 3.53822 0.973328ZM8.90756 16.2933C7.19724 16.1037 5.47121 16.1037 3.76089 16.2933C3.56353 16.3155 3.37931 16.4033 3.23767 16.5425C3.09603 16.6817 3.00515 16.8644 2.97956 17.0613C2.77705 18.7923 2.77705 20.541 2.97956 22.272C3.00521 22.4691 3.09628 22.652 3.23819 22.7912C3.38009 22.9305 3.56462 23.0181 3.76222 23.04C5.45689 23.2293 7.21156 23.2293 8.90622 23.04C9.10382 23.0181 9.28835 22.9305 9.43026 22.7912C9.57216 22.652 9.66323 22.4691 9.68889 22.272C9.89156 20.5413 9.89156 18.792 9.68889 17.0613C9.66323 16.8642 9.57216 16.6813 9.43026 16.5421C9.28835 16.4028 9.10382 16.3152 8.90622 16.2933M3.53822 14.3067C5.39564 14.1008 7.27013 14.1008 9.12756 14.3067C10.4476 14.4533 11.5182 15.4933 11.6742 16.8293C11.8947 18.7145 11.8947 20.6189 11.6742 22.504C11.5959 23.1499 11.3019 23.7504 10.8396 24.2083C10.3774 24.6661 9.77414 24.9545 9.12756 25.0267C7.28489 25.2333 5.38089 25.2333 3.53822 25.0267C2.89163 24.9545 2.28836 24.6661 1.82614 24.2083C1.36392 23.7504 1.06984 23.1499 0.991556 22.504C0.771044 20.6189 0.771044 18.7145 0.991556 16.8293C1.06984 16.1835 1.36392 15.5829 1.82614 15.1251C2.28836 14.6672 2.89163 14.3788 3.53822 14.3067ZM22.2409 2.95999C20.5306 2.7704 18.8045 2.7704 17.0942 2.95999C16.8967 2.98226 16.7123 3.07017 16.5706 3.20966C16.429 3.34915 16.3382 3.53214 16.3129 3.72933C16.1105 5.45988 16.1105 7.20812 16.3129 8.93866C16.3385 9.13581 16.4296 9.31865 16.5715 9.4579C16.7134 9.59714 16.898 9.68474 17.0956 9.70666C18.7902 9.896 20.5449 9.896 22.2396 9.70666C22.4372 9.68474 22.6217 9.59714 22.7636 9.4579C22.9055 9.31865 22.9966 9.13581 23.0222 8.93866C23.2249 7.208 23.2249 5.45866 23.0222 3.72799C22.9966 3.53084 22.9055 3.34801 22.7636 3.20876C22.6217 3.06951 22.4385 2.98192 22.2409 2.95999ZM16.8716 0.973328C18.729 0.767354 20.6035 0.767354 22.4609 0.973328C23.7809 1.12 24.8516 2.16 25.0076 3.496C25.228 5.38113 25.228 7.28553 25.0076 9.17066C24.9296 9.81678 24.6356 10.4176 24.1734 10.8757C23.7111 11.3339 23.1077 11.6224 22.4609 11.6947C20.6182 11.9 18.7142 11.9 16.8716 11.6947C16.2248 11.6224 15.6213 11.3339 15.1591 10.8757C14.6969 10.4176 14.4029 9.81678 14.3249 9.17066C14.1043 7.28554 14.1043 5.38112 14.3249 3.496C14.4032 2.85012 14.6973 2.2496 15.1595 1.79174C15.6217 1.33387 16.225 1.0455 16.8716 0.973328ZM22.2409 16.2933C20.5306 16.1037 18.8045 16.1037 17.0942 16.2933C16.8969 16.3155 16.7126 16.4033 16.571 16.5425C16.4294 16.6817 16.3385 16.8644 16.3129 17.0613C16.1104 18.7923 16.1104 20.541 16.3129 22.272C16.3385 22.4691 16.4296 22.652 16.5715 22.7912C16.7134 22.9305 16.898 23.0181 17.0956 23.04C18.7902 23.2293 20.5449 23.2293 22.2396 23.04C22.4372 23.0181 22.6217 22.9305 22.7636 22.7912C22.9055 22.652 22.9966 22.4691 23.0222 22.272C23.2249 20.5413 23.2249 18.792 23.0222 17.0613C22.9966 16.8642 22.9055 16.6813 22.7636 16.5421C22.6217 16.4028 22.4385 16.3152 22.2409 16.2933ZM16.8716 14.3067C18.729 14.1008 20.6035 14.1008 22.4609 14.3067C23.7809 14.4533 24.8516 15.4933 25.0076 16.8293C25.228 18.7145 25.228 20.6189 25.0076 22.504C24.9293 23.1499 24.6352 23.7504 24.173 24.2083C23.7108 24.6661 23.1075 24.9545 22.4609 25.0267C20.6182 25.2333 18.7142 25.2333 16.8716 25.0267C16.225 24.9545 15.6217 24.6661 15.1595 24.2083C14.6973 23.7504 14.4032 23.1499 14.3249 22.504C14.1043 20.6189 14.1043 18.7145 14.3249 16.8293C14.4032 16.1835 14.6973 15.5829 15.1595 15.1251C15.6217 14.6672 16.225 14.3788 16.8716 14.3067Z"
              fill="currentColor" fill-opacity="0.4" />
          </svg>
        </a>
      </div>
      <!-- Search Handler -->
      <div class="search" role="search">
        <div class="input-group bg-white-color d-flex flex-nowrap">
          <span class="input-group-text border-0" id="basic-addon1">
            <i class="pi pi-search text-muted-color"></i>
          </span>
          <span class="p-input-icon-right d-inline-block w-100">
            <i *ngIf="isLoadingSearch" class="pi pi-spin pi-spinner"></i>
            <input type="text" class="form-control border-0 bg-transparent px-1" #search2
              (keyup)="handleSearch(search2.value)" placeholder="{{'dashboard.customers.search' | translate}}"
              aria-label="search" aria-describedby="basic-addon1">
          </span>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-3 d-md-block d-none">
    <ng-container *ngIf="dataStyleType=='list'">
      <dynamic-table-local-actions [isLoading]="loadingIndicator" [showHeader]="false" [showClear]="false"
        [showSearch]="false" (searchHandler)="search($event)" [isLoadingSearch]="isLoadingSearch"
        (clearHandler)="enableSortFilter?clearTable($event):''" [tableHeaders]="tableHeaders" [tableData]="clientsList"
        [enableDateFormate]="true" [dateFormateString]="'EE | dd/MM/YYYY'" [showActions]="true" [showEdit]="true"
        [showDelete]="true" (deleteHandler)="deleteItem($event)" [showDetails]="true"
        (detailsHandler)="itemDetails($event)" (editHandler)="editItem($event)"
        (customSortHandler)="enableSortFilter?sortItems($event):''"
        (filterHandler)="enableSortFilter?filterItems($event):''" [results]="clientsCount" [paginatorRows]="perPage"
        [pages]="pagesCount" (paginateHandler)="onPageChange($event)" [rowsPerPageOptions]="rowsOptions"
        [enableConfirmDeleteDialog]="true" [keyDelete]="'name'"
        (paginateOptionsHandler)="onPaginatorOptionsChange($event)" [isSearch]="isSearch" [arrayChildKey]="'name'"
        [enableFilterIsWorking]="true" (vipHandler)="VIPCustomerAction($event)"></dynamic-table-local-actions>
    </ng-container>
    <ng-container *ngIf="dataStyleType=='grid'">
      <div class="row pt-4">
        <ng-container *ngIf="clientsList.length>0; else noClients">
          <ng-container *ngFor="let card of clientsList; let i=index">
            <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
              <client-card [item]="card"></client-card>
            </div>
          </ng-container>
        </ng-container>
      </div>
      <ng-template #noClients>
        <div class="row justify-content-center pt-4">
          <div class="col-xl-5 col-md-6 col-9">
            <div class="d-flex justify-content-center align-items-center gap-3 flex-column">
              <img [src]="'assets/images/not-found/no-data.svg'"
                onerror="this.src='assets/images/not-found/no-data.svg'" class="notFound-img w-75" alt="notFound">
              <p class="fw-500">{{'general.no_records_found'|translate}}</p>
            </div>
          </div>
        </div>
      </ng-template>
    </ng-container>
  </div>

  <!-- Show Cards in tablet and mobile -->
  <div class="mt-3 d-md-none d-block">
    <div class="row pt-4">
      <ng-container *ngIf="clientsList.length>0; else noClients">
        <ng-container *ngFor="let card of clientsList; let i=index">
          <div class="col-xl-3 col-lg-4 col-sm-6 mb-4">
            <client-card [item]="card"></client-card>
          </div>
        </ng-container>
      </ng-container>
    </div>
    <ng-template #noClients>
      <div class="row justify-content-center pt-4">
        <div class="col-xl-5 col-md-6 col-9">
          <div class="d-flex justify-content-center align-items-center gap-3 flex-column">
            <img [src]="'assets/images/not-found/no-data.svg'" class="notFound-img w-75" alt="notFound">
            <p class="fw-500">{{'general.no_records_found'|translate}}</p>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
</div>